<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors Game</title>
        <link rel="stylesheet" href="rps.css">
    </head>

    <body>

        <div>

       <div class="header ten">
            <div>
               <h1 class="text">
                <span>Rock Paper Scissors</span>
                  <!-- <span>W</span>
                   <span>E</span>
                   <span>L</span>
                   <span>C</span>
                   <span>O</span>
                   <span>M</span>
                   <span>E</span>
                   <span>&nbsp;</span>
                   <span>T</span>
                   <span>O</span>
                   <span>&nbsp;</span>
                   <span>M</span>
                   <span>Y</span>
                   <span>&nbsp;</span>
                   <span>W</span>
                   <span>E</span>
                   <span>B</span>
                   <span>S</span>
                   <span>I</span>
                   <span>T</span>
                   <span>E</span>
                   <span>!!</span>-->
               </h1>

            </div>
   </div>

       <!-- <p class="title">Rock Paper Scissors</p>-->
       
       <div class="cont-1">
        <button onclick="playGame('Rock');" class="move-button">
           <img src="rock-emoji.png" class="move-icon">Rock</button> 

        <button onclick="playGame('Paper');" class="move-button">
           <img src="paper-emoji.png" class="move-icon">Paper</button>

        <button onclick="playGame('Scissors');" class="move-button">
            <img src="scissors-emoji.png" class="move-icon">Scissors</button>
        </div>

    <div class="cont-2">
        <p class="js-result result"></p>
    </div>
    <div class="cont-3">
        <p class="js-moves"></p>
    </div>
    <div class="cont-4">
        <p class="js-score score"></p>
    </div>   
        
    

    <div class="cont-5">
        <button onclick="
            score.wins=0;
            score.losses=0;
            score.ties=0;
            localStorage.removeItem('score');
            alert('Scores are reseted!')
updateScoreElement();
" class="reset-score-btn">Reset Score</button>
      </div>   
            
        <script>
           

           let score=JSON.parse(localStorage.getItem('score')) || {
                wins: 0,
                losses: 0,
                ties: 0
      };

      updateScoreElement();

          function playGame(playerMove)
          {
                let result='';
                const msg=move();

                if (playerMove==='Rock')
                {
                    if(msg==='Rock')
                    {
                        result='Tie';
                    }
                    else if(msg==='Paper')
                    {
                        result='You Lose';
                    }
                    else
                    {
                    result='You Win';
                    }
                    
                }

                else if(playerMove==='Paper')
                {
                    
                    if(msg==='Paper')
                    {
                        result='Tie';
                    }
                    else if(msg==='Scissors')
                    {
                        result='You Lose';
                    }
                    else
                    {
                    result='You Win';
                    }
                
                }

                else if (playerMove==='Scissors')
                {
                   
                    if(msg==='Scissors')
                    {
                        result='Tie';
                    }
                    else if(msg==='Rock')
                    {
                        result='You Lose';
                    }
                    else
                    {
                    result='You Win';
                    }  

        

                }

                
                if(result==='You Win')
                    {
                        score.wins+=1;
                    }
                    else if (result==='You Lose')
                    {
                        score.losses+=1;
                    }
                    else if(result==='Tie')
                    {
                        score.ties+=1;
                    }
//*********************UPDATE_SCORE*****************************************

                    localStorage.setItem('score', JSON.stringify(score)); 

                    
                    updateScoreElement();
                    //updateResult();
                    
                    document.querySelector('.js-result').innerHTML=result;

                    document.querySelector('.js-moves').innerHTML=`You <img src="${playerMove}-emoji.png" class="move-icon"> <img src="${msg}-emoji.png" class="move-icon"> Computer`;
               
          }

        
          function updateScoreElement()
          {
            document.querySelector('.js-score')
                .innerHTML = `Wins:${score.wins}, Losses:${score.losses}, Ties:${score.ties}`; 

          }

           function move(){
            let msg=''; //ComputerMove
            const randomNumber=Math.random();
            if (randomNumber>=0 && randomNumber<(1/3))
            {
                msg='Rock'
                console.log(msg);
            }
           else if (randomNumber>=1/3 && randomNumber<(2/3))
            {
                msg='Paper'
                console.log(msg);
            }
            else if (randomNumber>=2/3 && randomNumber<1)
            {
                msg='Scissors'
                console.log(msg);
            }
            return msg;
           } 

        </script>
    </body>
</html>
